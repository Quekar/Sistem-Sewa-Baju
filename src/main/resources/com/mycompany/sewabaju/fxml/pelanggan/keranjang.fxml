<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.image.*?>
<?import javafx.scene.text.*?>
<?import javafx.geometry.*?>

<StackPane xmlns="http://javafx.com/javafx/25"
           xmlns:fx="http://javafx.com/fxml/1"
           fx:controller="com.mycompany.sewabaju.controllers.pelanggan.KeranjangController"
           style="-fx-background-color: #f3f3f3;">

    <children>

        <BorderPane prefWidth="1280" prefHeight="832">

            <!-- ================= TOP BAR ================ -->
            <top>
                <HBox spacing="20" alignment="CENTER_LEFT"
                      style="-fx-background-color:white; -fx-padding:20; -fx-border-color:#ddd; -fx-border-width:0 0 1 0;">

                    <ImageView fitHeight="60" fitWidth="100" preserveRatio="true">
                        <image>
                            <Image url="@../images/logo.png"/>
                        </image>
                    </ImageView>

                    <Label text="Keranjang"
                           style="-fx-font-size:24; -fx-font-weight:bold; -fx-font-family:'Poppins';"/>

                    <Pane HBox.hgrow="ALWAYS"/>

                    <Button text="Dashboard" onAction="#handleBack"
                            style="-fx-background-color:#E6B3A8; -fx-background-radius:30; -fx-text-fill:white; -fx-font-size:16;"
                            prefWidth="140"/>
                </HBox>
            </top>


            <!-- ================= SIDEBAR ================ -->
            <left>
                <VBox spacing="20" prefWidth="250"
                      style="-fx-background-color:white; -fx-padding:20; -fx-border-color:#ddd; -fx-border-width:0 1 0 0;">

                    <Label text="Menu" style="-fx-font-size:20; -fx-font-weight:bold;"/>

                    <Button text="Catalog Baju" onAction="#handleCatalog"
                            prefHeight="45"
                            style="-fx-background-color:#E6B3A8; -fx-background-radius:20; -fx-text-fill:white; -fx-font-size:16;"/>

                    <Button text="Keranjang" disable="true"
                            prefHeight="45"
                            style="-fx-background-color:#d6d6d6; -fx-background-radius:20; -fx-text-fill:black; -fx-font-size:16;"/>

                    <Button text="Riwayat Sewa" onAction="#handleRiwayat"
                            prefHeight="45"
                            style="-fx-background-color:#E6B3A8; -fx-background-radius:20; -fx-text-fill:white; -fx-font-size:16;"/>

                    <Button text="Profile" onAction="#handleProfile"
                            prefHeight="45"
                            style="-fx-background-color:#E6B3A8; -fx-background-radius:20; -fx-text-fill:white; -fx-font-size:16;"/>

                    <Pane VBox.vgrow="ALWAYS"/>

                </VBox>
            </left>


            <!-- ================= MAIN CONTENT ================ -->
            <center>
                <VBox spacing="20" style="-fx-padding:25;">

                    <!-- Table Keranjang -->
                    <TableView fx:id="tableKeranjang" prefHeight="520">

                        <columns>

                            <TableColumn fx:id="colNamaBaju" text="Nama Baju" prefWidth="200"/>
                            <TableColumn fx:id="colUkuran" text="Ukuran" prefWidth="100"/>
                            <TableColumn fx:id="colQty" text="Jumlah" prefWidth="120"/>
                            <TableColumn fx:id="colHarga" text="Harga" prefWidth="150"/>
                            <TableColumn fx:id="colSubtotal" text="Subtotal" prefWidth="150"/>

                            <TableColumn fx:id="colHapus" text="Aksi" prefWidth="120"/>

                        </columns>

                    </TableView>

                    <HBox alignment="CENTER_RIGHT">

                        <VBox alignment="CENTER_RIGHT" spacing="10">

                            <HBox spacing="10" alignment="CENTER_RIGHT">
                                <Label text="Total Harga:"
                                       style="-fx-font-size:20; -fx-font-family:'Poppins';"/>
                                <Label fx:id="lblTotalHarga" text="Rp 0"
                                       style="-fx-font-size:22; -fx-font-family:'Poppins'; -fx-font-weight:bold;"/>
                            </HBox>

                            <Button fx:id="btnCheckout" text="Checkout" onAction="#handleCheckout"
                                    prefHeight="55" prefWidth="220"
                                    style="-fx-background-color:#E6B3A8; -fx-background-radius:30; -fx-font-size:20; -fx-text-fill:white; -fx-font-family:'Poppins';"/>
                        </VBox>

                    </HBox>

                </VBox>
            </center>

        </BorderPane>

    </children>

</StackPane>
